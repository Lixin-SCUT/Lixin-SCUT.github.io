<html>
  <head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>[Linux基础] 系统登录与关机（鸟哥Linux第四章） | Lixin-SCUT</title>
<link rel="shortcut icon" href="https://lixin-scut.github.io//favicon.ico?v=1589106354888">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://lixin-scut.github.io//styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>



  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://lixin-scut.github.io/">
  <img class="avatar" src="https://lixin-scut.github.io//images/avatar.png?v=1589106354888" alt="">
  </a>
  <h1 class="site-title">
    Lixin-SCUT
  </h1>
  <p class="site-description">
    千里之行，始于足下。不积跬步，无以至千里。
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          时间轴
        </a>
      
    
      
        <a href="/tags" class="menu">
          分类/标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>


        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              [Linux基础] 系统登录与关机（鸟哥Linux第四章）
            </h2>
            <div class="post-info">
              <time class="post-time">
                · 2019-12-28 ·
              </time>
              
                <a href="https://lixin-scut.github.io//tag/i1p_xiuAc" class="post-tag">
                  # Linux基础
                </a>
              
                <a href="https://lixin-scut.github.io//tag/FaScKSk5i" class="post-tag">
                  # 读书笔记
                </a>
              
            </div>
            
            <div class="post-content">
              <ul>
<li>X window<br>
文本模式为终端机接口, terminal 或 console<br>
Linux 预设的情况下会提供六个 Terminal 来让使用者登入， 切换的方式为使用：[Ctrl] + [Alt] + [F1]~[F6]的组合按钮。<br>
系统会将[F1] ~ [F6]命名为 tty1 ~ tty6 的操作接口环境。</li>
</ul>
<ul>
<li>[Ctrl] + [Alt] + [F2] ~ [F6] ：文字接口登入 tty2 ~ tty6 终端机；</li>
<li>[Ctrl] + [Alt] + [F1] ：图形接口桌面。</li>
</ul>
<p>文本模式登入后所取得的程序被称为壳(Shell)，这是因为这 支程序负责最外面跟使用者(我们)沟通，所以才被戏称为壳程序</p>
<p>个人体会：<br>
这一点对于我没装图形界面的centos来说非常重要，毕竟没有鼠标，纯靠键盘操作<br>
6个terminal或者说shell就相当于6个进程，如果一个阻塞了就需要切换到另外一个继续进行工作</p>
<ul>
<li>开始下达指令<br>
command [-options] parameter1 parameter2</li>
</ul>
<ol>
<li>一行指令中第一个输入的部分绝对是『指令(command)』或『可执行文件案(例如批次脚本,script)』</li>
<li>command 为指令的名称，例如变换工作目录的指令为 cd 等等；</li>
<li>中刮号[]并不存在于实际的指令中，而加入选项设定时，通常选项前会带号，例如 -h；有时候会使用选项的完整全名，则选项前带有 -- 符号，例如 --help；</li>
<li>parameter1 parameter2.. 为依附在选项后面的参数，或者是 command 的参数；</li>
<li>指令, 选项, 参数等中间以空格来区分，不论空几格 shell 都视为一格。所以空格是很重要的特殊字符；</li>
<li>按下[Enter]按键后，该指令就立即执行。[Enter]按键代表着一行指令的开始启动。</li>
<li>指令太长的时候，可以使用反斜杠 () 来跳脱[Enter]符号，使指令连续到下一行。注意！反斜杠后就立刻接特殊字符，才能跳脱！</li>
<li>其他：在 Linux 系统中，英文大小写字母是不一样的。举例来说， cd 与 CD 并不同。</li>
</ol>
<p>locale 显示目前支持的语系<br>
修改语系成为英文语系LANG=en_US.utf8   export LC_ALL=en_US.utf8</p>
<p>郁闷，貌似文本模式默认是英文语系</p>
<ul>
<li>基础指令的操作<br>
1.显示日期与时间的指令： date<br>
『+%Y%m%d』就是 date 指令的一些参数功能<br>
从上面的例子当中我们也可以知道，指令之后的选项除了前面带有减号『-』之外，某些特殊情况下，选项或参数前面也会带有正号『+』的情况</li>
</ul>
<p>2.显示日历的指令： cal [month] [year]</p>
<p>3.简单好用的计算器： bc<br>
bc命令进入到 bc 这个软件的工作环境当中，输入的数据当然就得要符合 bc 的要求才行</p>
<ul>
<li>加法 减法 * 乘法  / 除法  ^ 指数  % 余数<br>
因为 bc 预设仅输出整数，如果要输出小数点下位数，那么就 必须要执行 scale=number ，那个 number 就是小数点位数，<br>
输入『quit』来离开 bc 的软件环境</li>
</ul>
<p>小插曲：<br>
尴尬，我的centos居然没有默认安装bc，必须通过sudo  yum -y install bc来在线安装</p>
<ul>
<li>重要的几个热键</li>
</ul>
<p>[Tab] 具有『命令补全』与『文件补齐』的功 能<br>
1.[Tab] 接在一串指令的第一个字的后面，则为『命令补全』； 2. [Tab] 接在一串指令的第二个字以后时，则为『文件补齐』！<br>
3.若安装 bash-completion 软件，则在某些指令后面使用 [tab] 按键时，可以进行『选项/参数的补齐』功能！</p>
<p>[Ctrl]-c 中断目前程序 将正在运作中的指令中断</p>
<p>[Ctrl]-d<br>
1.键盘输入结束(End Of File, EOF 或 End Of Input)』2. 可以用来取代 exit 的输入，想要直接 离开文字接口，可以直接按下[Ctrl]-d 就能够直接离开了(相当于输入 exit 啊！)</p>
<p>[shift]+{[PageUP]|[Page Down]} 按键<br>
纯文本的画面中执行某些指令，当这个指令的输出讯息相当长导致前面的部份已经不 在目前的屏幕画面中，可以使用 [Shift]+[Page Up] 来往前翻页，也能够使用 [Shift]+[Page Down] 来往后翻页<br>
这条命令超重要！！！我一开始以为是直接{[PageUP]|[Page Down]} 就能翻页了，结果发现是历史命令的切换。。。</p>
<ul>
<li>
<p>错误讯息的察看<br>
下达了错误的指令，可以藉由屏幕上面显示的错误讯息来了解你的问题点，</p>
</li>
<li>
<p>指令的 –help<br>
开发者会将可以使用的指令语法与参数写入指令 操作过程中<br>
通常 --help 用在协助你查询『你曾经用过的指令所 具备的选项与参数』</p>
</li>
<li>
<p>man page<br>
如果你要使用的是从来没有用过得指令，或者是你要查询的根本就不是 指令，而是文件的『格式』时，那就得要透过 man page<br>
man 是 manual(操作说明)的简写</p>
</li>
<li>
<p>命令后面的数字(num)<br>
在表格的第一行，你可以看到的是：『DATE(1)』，DATE是指令的名称， (1) 代表查询数据的后面的数字是有意义</p>
</li>
</ul>
<p>这里也是很重要啊，虽然说区别不是很大，但是有时候还是需要对着表查找的<br>
<img src="https://lixin-scut.github.io//post-images/1577542417254.png" alt=""><br>
例如下达了『man null』时，会出现的第一行是：『NULL(4)』，对照一下上面的数字意义， 原来 null是一个『装置文件』</p>
<p>查询某个数据时是这样来查阅的：</p>
<ol>
<li>先察看 NAME 的项目，约略看一下这个资料的意思；</li>
<li>再详看一下 DESCRIPTION，这个部分会提到很多相关的资料与使用时机，从这个地方可以学到很多小细节 呢；</li>
<li>而如果这个指令其实很熟悉了(例如上面的 date)，那么鸟哥主要就是查询关于 OPTIONS 的部分了！ 可以知 道每个选项的意义，这样就可以下达比较细部的指令内容呢！</li>
<li>最后，鸟哥会再看一下，跟这个资料有关的还有哪些东西可以使用的？举例来说，上面的 SEE ALSO 就告 知我们还可以利用『info coreutils date』来进一步查阅数据；</li>
<li>某些说明内容还会列举有关的文件(FILES 部分)</li>
</ol>
<p>搜寻字符串：在man page，当你按下『/』之后，光标就会移动到屏幕的最下面一行， 并等待你输入搜寻的字符串</p>
<p>在 man page 的画面当中能使用的按键<br>
<img src="https://lixin-scut.github.io//post-images/1577542615324.png" alt=""></p>
<p>man -f command 搜索与command这个指令有关的说明文件（亦即不同的数字后缀）</p>
<p>man -k keywords<br>
在某些情况下忘记了 该指令的完整名称，或者只记得该指令的部分关键词，使用 –k选项，利用关键词将说明文件里面只要含有关键词的(不见得是完整字符串) 就 将他取出来</p>
<p>whatis [ 指令或者是 数 据 ] &lt;==相当于 man -f [指令或者是数据]<br>
apropos [ 指令或者是 数 据 ] &lt;==相当于 man -k [指令或者是数据]<br>
这两个特殊指令必须要有建立 whatis 数据库才行，需要使用root 的身份下达mandb指令</p>
<ul>
<li>info page<br>
info 与 man 的用途其实差不多，都是用来查询指令的用法或者是文件的格式。<br>
与 man page 一口气输出一堆信息不同的是，info page 则是将文件数据拆成一个一个的段落，每个段落用自己的页 面来撰写， 并且在各个页面中还有类似网页的『超链接』来跳到各不同的页面中，每个独立的页面 也被称为一个节点(node)。</li>
</ul>
<p>info page第一行里面的数据意义为：</p>
<ul>
<li>File：代表这个 info page 的资料是来自 info.info 文件所提供的；</li>
<li>Node：代表目前的这个页面是属于 Top 节点。 意思是 info.info 内含有很多信息，而 Top 仅是 info.info 文件 内的一个节点内容而已；</li>
<li>Next：下一个节点的名称为 Getting Started，你也可以按『N』到下个节点去；</li>
<li>Up：回到上一层的节点总揽画面，你也可以按下『U』回到上一层；</li>
<li>Prev：前一个节点。但由于 Top 是 info.info 的第一个节点，所以上面没有前一个节点的信息。</li>
</ul>
<p>info 的说明文件将内容分成多个 node，并且每个 node 都有定位与连结。 在各连结之 间还可以具有类似『超链接』的快速按钮，可以透过[tab]键在各个超链接间移动。</p>
<p>你可以透过直接按 下 N, P, U 来去到下一个、上一个与上一层的节点(node)<br>
『Menu』底下共分为四小节，分别是 Getting Started 等等的，我们 可以使用上下左右按键来将光标移动到该文字或者『 * 』上面，按下 Enter， 就可以前往该小节了！ 另外，也可以按下[Tab]按键，就可以快速的将光标在上表的画面中的 node 间移动，</p>
<ul>
<li>总结</li>
</ul>
<ul>
<li>在终端机模式中，如果你知道某个指令，但却忘记了相关选项与参数，请先善用 --help 的功能来查询相关 信息；</li>
<li>当有任何你不知道的指令或文件格式这种玩意儿，但是你想要了解他，请赶快使用 man 或者是 info 来查询！</li>
</ul>
<ul>
<li>超简单文书编辑器： nano<br>
nano text.txt开启一个名为 text.txt 的档名<br>
比较重要的几个组合按键：</li>
</ul>
<ul>
<li>[ctrl]-G：取得联机帮助(help)，很有用的！</li>
<li>[ctrl]-X：离开 naon 软件，若有修改过文件会提示是否需要储存喔！</li>
<li>[ctrl]-O：储存文件，若你有权限的话就能够储存文件了；</li>
<li>[ctrl]-R：从其他文件读入资料，可以将某个文件的内容贴在本文件中；</li>
<li>[ctrl]-W：搜寻字符串，这个也是很有帮助的指令喔！</li>
<li>[ctrl]-C：说明目前光标所在处的行数与列数等信息；</li>
<li>[ctrl]-_：可以直接输入行号，让光标快速移动到该行；</li>
<li>[alt]-Y：校正语法功能开启或关闭(单击开、再单击关)</li>
<li>[alt]-M：可以支持鼠标来移动光标的功能</li>
</ul>
<ul>
<li>正确的关机方法<br>
<strong>这个非常重要！！！就算是虚拟机也要好好关机！！！</strong><br>
若不正常关机，则可能造成文件系统的毁损<br>
-观察系统的使用状态： 如果要看目前有谁在在线，可以下达『who』这个指令，而如果要看网络的联机状态，可以下达 『 netstat -a 』 这个指令，而要看背景执行的程序可以执行『 ps -aux 』这个指令。使用这些指令可以让你稍微了解主机 目前的使用状态！当然啰，就可以让你判断是否可以关机了 （这些指令在后面 Linux 常用指令中会提及喔！）</li>
</ul>
<ul>
<li>通知在线使用者关机的时刻： 要关机前总得给在线的使用者一些时间来结束他们的工作，所以，这个时候你可以使用 shutdown 的特别指 令来达到此一功能。</li>
<li>正确的关机指令使用： 例如 shutdown 与 reboot 两个指令！</li>
</ul>
<p>几个与关机/重新启动相关的指令啰</p>
<ul>
<li>将数据同步写入硬盘中的指令： sync</li>
<li>惯用的关机指令： shutdown</li>
<li>重新启动，关机： reboot, halt, poweroff</li>
</ul>
<p>由于 Linux 系统的关机/重新启动是很重大的系统运作，因此只有 root 才能够进行例如 shutdown, reboot 等指令</p>
<p>数据同步写入磁盘： sync<br>
直接在文字接口下 输入 sync，那么在内存中尚未被更新的数据，就会被写入硬盘中<br>
shutdown/reboot/halt 等等指令均已经在关机前进行了 sync 这个工具的呼叫<br>
sync 也可以被一般账号使用,只不过一般账号用户所更新的硬盘数据就仅有 自己的数据，不像 root 可以更新整个系统中的数据了。</p>
<p>惯用的关机指令： shutdown<br>
就只有 root 有权力而已<br>
shutdown 可以达成如下的工作：</p>
<ul>
<li>可以自由选择关机模式：是要关机或重新启动均可；</li>
<li>可以设定关机时间: 可以设定成现在立刻关机, 也可以设定某一个特定的时间才关机。</li>
<li>可以自定义关机讯息：在关机之前，可以将自己设定的讯息传送给在线 user 。</li>
<li>可以仅发出警告讯息：有时有可能你要进行一些测试，而不想让其他的使用者干扰，或者是明白的告诉使 用者某段时间要注意一下！这个时候可以使用 shutdown 来吓一吓使用者，但却不是真的要关机啦！</li>
</ul>
<p>/sbin/shutdown [-- krhc] [ 时间 ] [ 警告讯息 ]<br>
选项与参数：<br>
-k ： 不要真的关机，只是发送警告讯息出去！<br>
-r ： 在将系统的服务停掉之后就重新启动(常用)<br>
-h ： 将系统的服务停掉后，立即关机。 (常用)<br>
-c ： 取消已经在进行的 shutdown 指令内容。<br>
时间 ： 指定系统关机的时间！时间的范例底下会说明。若没有这个项目，则默认 1 分钟后自动进行。<br>
范例： [root@study ~]# /sbin/shutdown -h 10 'I will shutdown after 10 mins’</p>
<p>可以输入『 shutdown -c 』来取消关机指令</p>
<p>新版的shutdown可省略时间参数 会以 1 分钟为限，进行自动关机的任务<br>
[root@study ~]# shutdown- h now<br>
立刻关机，其中 now 相当于时间为 0 的状态<br>
[root@study ~]# shutdown- h 20:25<br>
系统在今天的 20:25 分会关机，若在 21:25 才下达此指令，则隔天才关机<br>
[root@study ~]# shutdown- h +10<br>
系统再过十分钟后自动关机<br>
[root@study ~]# shutdown- r now<br>
系统立刻重新启动<br>
[root@study ~]# shutdown- r +30 'The system will reboot'<br>
再过三十分钟系统会重新启动，并显示后面的讯息给所有在在线的使用者<br>
[root@study ~]# shutdown- k now 'This system will reboot'<br>
仅发出警告信件的参数！系统并不会关机啦！吓唬人！</p>
<p>重新启动，关机： reboot, halt, poweroff<br>
有三个指令可以进行重新启动与关机的任务，那就是 reboot, halt, poweroff<br>
基本上，在预设的情况下， 这几个 指令都会完成一样的工作</p>
<p>实际使用管理工具 systemctl 关机<br>
systemctl：系统中所有服务的管理<br>
上面谈到的 halt, poweroff, reboot, shutdown 等等，其实都是呼叫这个 systemctl 指令<br>
这 个指令跟关机有关的语法如下：<br>
[root@study ~]# systemctl [ 指令]<br>
指令项目包括如下：<br>
halt 进入系统停止的模式，屏幕可能会保留一些讯息，这与你的电源管理模式有关<br>
poweroff 		进入系统关机模式，直接关机没有提供电力喔！<br>
reboot 			直接重新启动<br>
suspend 		进入休眠模式<br>
[root@study ~]# systemctl reboot # 系统重新启动<br>
[root@study ~]# systemctl poweroff # 系统关机</p>

            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://lixin-scut.github.io//post/shu-zu-9-hui-wen-shu-jian-dan-wei-zuo-chu">
              <h3 class="post-title">
                数组 9. 回文数[简单][未做出]
              </h3>
            </a>
          </div>
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '253c8689f3b11b51dcf1',
    clientSecret: '64df7c097665e7dd6f416ecfaba36581a91bdb63',
    repo: 'Lixin-SCUT.github.io',
    owner: 'Lixin-SCUT',
    admin: ['Lixin-SCUT'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://lixin-scut.github.io//atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

      </div>
    </div>
  </body>
</html>
